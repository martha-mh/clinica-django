{% extends "base.html" %}
{% block content %}
<div class="grid grid-cols-12">
  <div class="col-span-12 xl:col-span-12 md:col-span-12">
    <div class="card">
      <div class="card-header">
        <h3 class="mb-1 font-medium">Lista de Pacientes</h3>
      </div>

      <div class="card-body">

        {% if messages %}
        {% for message in messages %}
        <div id="swal-message" data-text="{{ message }}" data-type="{{ message.tags }}"></div>
        {% endfor %}
        {% endif %}

        <table class="table">
          <thead>
            <tr class="bg-fuchsia-200">
              <th>Nombre</th>
              <th>Email</th>
              <th>Tel√©fono</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            {% if patients %}
              {% for patient in patients %}
              <tr>
              <td>{{ patient.name }}</td>
              <td>{{ patient.email }}</td>
              <td>{{ patient.phone }}</td>
              <td>
              <a href="{% url 'edit_patient' patient.id %}" class="btn btn-sm btn-warning">Editar</a>
                <a href="{% url 'delete_patient' patient.id %}"
                class="btn btn-sm btn-danger btn-delete-patient" data-id="{{ patient.id }}">Eliminar</a>
              </td>
              </tr>
              {% endfor %}
            {% else %}
              <tr>
              <td colspan="4" class="text-center">No se encontraron datos</td>
              </tr>
            {% endif %}
          </tbody>
        </table>
      </div>

    </div>
  </div>
</div>
{% endblock %}